(this["webpackJsonplogin-demo"]=this["webpackJsonplogin-demo"]||[]).push([[0],{174:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),c=s(62),a=s.n(c),i=(s(71),s(3)),o=s(4),l=s(66),j=(s(72),s(2)),u=s(15),b=s(1);var d=function(){var e=Object(j.f)();return Object(b.jsxs)("div",{className:"page",children:[Object(b.jsx)("h1",{children:"Home"}),Object(b.jsx)("p",{children:"This is the homepage."}),Object(b.jsx)("button",{className:"btn",onClick:function(){return e("/login")},children:"login"})]})},m=s(8),O=s(29),h=s(9),p=s(39);function x(e){var t=e.name,s=e.label,n=void 0===s?t:s,r=e.control,c=e.type,a=void 0===c?"text":c;return Object(b.jsx)(m.a,{name:t,control:r,render:function(e){var s=e.field,r=e.fieldState,c=r.invalid,i=r.error,o=r.isTouched;return Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{className:"input-label",htmlFor:t,children:n}),Object(b.jsx)("br",{}),Object(b.jsx)("input",Object(p.a)({className:"input-control "+(c?"input-control-invalid":o&&"input-control-valid"),id:t,type:a},s)),Object(b.jsxs)("p",{className:"helper-text",children:[i&&"\u26a0 "+i.message,"\xa0"]})]})}})}function f(e){var t=e.name,s=e.label,r=void 0===s?t:s,c=e.control,a=Object(n.useState)(!1),i=Object(o.a)(a,2),l=i[0],j=i[1];return Object(b.jsx)(m.a,{name:t,control:c,render:function(e){var s=e.field,n=e.fieldState,c=n.invalid,a=n.error,i=n.isTouched;return Object(b.jsxs)("div",{className:"input-field",children:[Object(b.jsx)("label",{className:"input-label",htmlFor:t,children:r}),Object(b.jsx)("br",{}),Object(b.jsx)("input",Object(p.a)({className:"input-control "+(c?"input-control-invalid":i&&"input-control-valid"),id:t,type:l?"text":"password"},s)),Object(b.jsx)("button",{className:"show-password",type:"button",onClick:function(){return j(!l)},children:l?"hide":"show"}),Object(b.jsxs)("p",{className:"helper-text",children:[a&&"\u26a0 "+a.message,"\xa0"]})]})}})}var v=h.a().shape({username:h.c().required().min(5).max(10),password:h.c().required().min(8).max(16).matches("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,16}$","password must has at least 1 uppercase letter, 1 lowercase letter, 1 number and 1 special character")});var g=function(e){var t=e.userLogin,s=Object(m.e)({resolver:Object(O.a)(v),mode:"onTouched"}),n=s.handleSubmit,r=s.control,c=s.setError,a=Object(j.f)();return Object(b.jsx)("div",{className:"input-form",children:Object(b.jsxs)("form",{onSubmit:n((function(e){var s=t(e);200===s.status?a("/dashboard"):c(s.name,{type:"manual",message:s.msg})})),children:[Object(b.jsx)("p",{className:"form-title",children:"Login in to post-viewer"}),Object(b.jsx)("br",{}),Object(b.jsx)(x,{name:"username",control:r}),Object(b.jsx)(f,{name:"password",control:r}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{type:"button",className:"btn",onClick:function(){return a("/register")},children:"register"}),Object(b.jsx)("button",{type:"submit",className:"btn",style:{float:"right"},children:"login"})]})]})})},w=h.a().shape({username:h.c().required().min(5).max(10),email:h.c().required().email(),password:h.c().required().min(8).max(16).matches("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,16}$","password must has at least 1 uppercase letter, 1 lowercase letter, 1 number and 1 special character"),confirmPassword:h.c().required().oneOf([h.b("password"),null],"must match password.")});var N=function(e){var t=e.userRegister,s=Object(m.e)({resolver:Object(O.a)(w),mode:"onTouched"}),n=s.handleSubmit,r=s.control,c=s.setError,a=Object(j.f)();return Object(b.jsx)("div",{className:"input-form",children:Object(b.jsxs)("form",{onSubmit:n((function(e){var s=t(e);200===s.status?a("/login"):c(s.name,{type:"manual",message:s.msg})})),children:[Object(b.jsx)("p",{className:"form-title",children:"Register for post-viewer"}),Object(b.jsx)("br",{}),Object(b.jsx)(x,{name:"username",control:r}),Object(b.jsx)(x,{name:"email",control:r,type:"email"}),Object(b.jsx)(f,{name:"password",control:r}),Object(b.jsx)(f,{name:"confirmPassword",label:"confirm password",control:r}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{className:"btn",type:"button",onClick:function(){return a(-1)},children:"cancel"}),Object(b.jsx)("button",{className:"btn",type:"submit",style:{float:"right"},children:"confirm"})]})]})})};var y=function(e){var t=e.userLogout,s=Object(j.f)();return Object(b.jsxs)("div",{className:"page",children:[Object(b.jsx)("h1",{children:"Dashboard"}),Object(b.jsx)("p",{children:"This is the dashboard."}),Object(b.jsx)("button",{className:"btn",type:"button",onClick:function(){t(),s("/")},children:"logout"})]})};var S=function(){var e=Object(j.f)();return Object(b.jsxs)("div",{className:"page",children:[Object(b.jsx)("h1",{children:"Unauthorized"}),Object(b.jsx)("p",{children:"You havn't loggin."}),Object(b.jsx)("button",{className:"btn",onClick:function(){return e("/login")},children:"login"})]})},k=["children"],C=Object(n.createContext)(!1);function T(e){var t=e.children,s=(Object(l.a)(e,k),Object(n.useContext)(C)),r=Object(j.f)();return Object(n.useEffect)((function(){s||r("/notAuth")})),t}var q=function(){var e=Object(n.useState)([{username:"admin",password:"Testing193!"}]),t=Object(o.a)(e,2),s=t[0],r=t[1],c=Object(n.useState)(!1),a=Object(o.a)(c,2),l=a[0],m=a[1];return Object(b.jsx)(C.Provider,{value:l,children:Object(b.jsx)(u.a,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/",element:Object(b.jsx)(d,{})}),Object(b.jsx)(j.a,{path:"login",element:Object(b.jsx)(g,{userLogin:function(e){var t=s.find((function(t){return t.username===e.username}));return t?t.password===e.password?(m(!0),{status:200,msg:"Login successfully."}):{status:400,name:"password",msg:"Invalid password."}:{status:400,name:"username",msg:"username is not exist."}}})}),Object(b.jsx)(j.a,{path:"register",element:Object(b.jsx)(N,{userRegister:function(e){return s.find((function(t){return t.username===e.username}))?{status:400,name:"username",msg:"username is already exist."}:(r([].concat(Object(i.a)(s),[e])),{status:200,msg:"create account successfully."})}})}),Object(b.jsx)(j.a,{path:"notAuth",element:Object(b.jsx)(S,{})}),Object(b.jsx)(j.a,{path:"dashboard",element:Object(b.jsx)(T,{children:Object(b.jsx)(y,{userLogout:function(){m(!1)}})})})]})})})};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root"))},71:function(e,t,s){},72:function(e,t,s){}},[[174,1,2]]]);
//# sourceMappingURL=main.04d9d160.chunk.js.map